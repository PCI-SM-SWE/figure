<!DOCTYPE html>
<html lang="en" ng-app="Visualization">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="favicon.ico">

<title>Data Visualization</title>

<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	

<!-- Custom styles for this template -->
<link rel="stylesheet" href="stylesheets/style.css">

<style>

.map-legend .swatch
{
	width:20px;
	height:20px;
	float:left;
	margin-right:10px;
}

.leaflet-popup-close-button
{
	display: none;
}

.leaflet-popup-content-wrapper
{
	pointer-events: none;
}

/*.nv-x text {
	transform: rotate(-90deg);
	-ms-transform: rotate(-90deg);
    -webkit-transform: rotate(-90deg);

}*/
</style>

</head>

<body  ng-controller="MainCtrl" ng-init="page = 1">
	<!-- Header -->
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> 
						<span class="icon-bar"></span> 
						<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="" ng-click="page = 1">Data Visualization</a>
			</div>

			<!-- Removed Navbar elements for now
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>
         -->
		</div>
	</div>
	
	
	<!-- 1st Page -->
	<section ng-show="true"> <!-- Can be changed to page == 1 -->
		<div class="container">
		<div class="welcome-text">
			<h1 ng-click="test()">Please Choose a Data Input Method</h1>
		</div>
		<!-- Top three-button grouping -->
		<div class="btn-group btn-group-justified" ng-init="dataTab = 1">
			<!-- Manual entry button -->
			<div class="btn-group">
				<button type="button" class="btn btn-default"
					ng-class="{active:dataTab == 1}" ng-click="dataTab = 1">
					Enter Data   <span class="glyphicon glyphicon-pencil"></span></button>
			</div>
			<!-- Upload button -->
				<div class="btn-group">
					<button type="button" class="btn btn-default"
						ng-class="{active:dataTab == 2}" ng-click="dataTab = 2">
						Upload Data <span class="glyphicon glyphicon-folder-open"></span>
					</button>
				</div>
			<!-- My files dropdown button -->
			<div class="btn-group" ng-class="{active:dataTab == 3}" ng-click="dataTab = 3">
				<button type="button" class="btn btn-default dropdown-toggle"
					data-toggle="dropdown">
					My Uploads <span class="caret"></span>
				</button>
				<ul class="dropdown-menu" id="storedList">
				<!--<li><a id="storedList" href="" ng-repeat="item in list" ng-click="storedData(item)">{{item}}</a></li>-->
				</ul>
			</div>
				<!-- Sample dropdown button -->
			<div class="btn-group" ng-class="{active:dataTab == 4}" ng-click="dataTab = 4">
				<button type="button" class="btn btn-default dropdown-toggle"
					data-toggle="dropdown">
					Sample Data <span class="caret"></span>
				</button>
				<ul class="dropdown-menu">
					<li><a href="" ng-click="sampleData(1)">Charm City Circulator</a></li>
					<li><a href="" ng-click="sampleData(2)">Sample Pie Chart Data</a></li>
					<li><a href="" ng-click="sampleData(3)">Sample Choropleth Map Data</a></li>
					<li><a href="" ng-click="sampleData(4)">Upload Testing</a></li>
				</ul>
			</div>
		</div>
		<br>
		<div class="col-xs-6 col-sm-6 col-md-6" ng-show="dataTab == 2">
            <h4>Upload a CSV File</h4>
            <div class="input-group">
                <span class="input-group-btn">
                    <span class="btn-file">
                    	<input type="file" class="btn-file" multiple>
                    </span>
                </span>
                <input type="text" class="form-control" ng-model="uploadArea" readonly>
            </div>
            <!-- Submit button for upload -->
			<div class="submit-button">
				<button class="btn btn-primary" type="submit"
					role="button" ng-click="fileUpload()">Submit</button>
			</div>
			<!--
			<span class="help-block">
            	Please select a file to upload from your computer
            </span>
             -->
        </div>
		<!-- Text area for manual data input -->
		<textarea class="form-control" id="area" rows="15" placeholder="Enter Data Here"
			ng-model="textArea" ng-show="true" style = "resize: none;"></textarea>
		<br>
		<!-- Submit button -->
		<!-- 
		<div class="submit-button">
			<a href="" class="btn btn-primary btn-lg" ng-class="{disabled:!textArea.length}" role="button"
				ng-click="page = 2">Submit</a>
		</div>
		 -->
	</div>
	</section>


	<!-- 2nd Page -->
	<section ng-show="true"> <!-- Can be changed to page == 2 -->
		<div class="container-fluid">
			<div class="row-fluid">
			<!-- Back button -->
			<!-- 
				<div class="back-button">
					<a href="" class="btn btn-primary btn-lg" role="button"
						ng-click="page = 1">Back</a>
				</div>
			 -->
			<!-- Submit button for page 2 -->
			<!-- 
				<div class="submit-button2">
					<a href="" class="btn btn-primary btn-lg" role="button"
						ng-click="page = 3">Submit</a>
				</div>
			 -->
				<div class="welcome-text">
					<h1>Please Choose a Graphical Representation</h1>
				</div>
			</div>
			<br>
			<div class="row-fluid">
				<div class="col-xs-3 col-sm-3 col-md-3" ng-init="graphTab = 1">
					<ul class="nav nav-tabs">
						<li ng-class="{active:graphTab == 1}" ng-click="graphTab = 1; selectVisualizationType()">
							<a href="">Bar</a>
						</li>
						<li ng-class="{active:graphTab == 2}" ng-click="graphTab = 2; selectVisualizationType()">
							<a href="">Line</a>
						</li>
						<li ng-class="{active:graphTab == 3}" ng-click="graphTab = 3; selectVisualizationType()">
							<a href="">Pie</a>
						</li>
						<li ng-class="{active:graphTab == 4}" ng-click="graphTab = 4; selectVisualizationType()">
							<a href="">Map</a>
						</li>
					</ul>
				</div>
				<div class="pics col-xs-8 col-sm-8 col-md-8">
					<br> 
					<img src="images/bargraph.svg" class="img-responsive" alt="Responsive image" ng-show="graphTab == 1"> 
					<img src="images/linechart.svg" class="img-responsive" alt="Responsive image" ng-show="graphTab == 2">
					<img src="images/piechart.png" class="img-responsive" alt="Responsive image" ng-show="graphTab == 3">
					<img src="images/choroplethmap.png" class="img-responsive" alt="Responsive image" ng-show="graphTab == 4">
				</div>
				<br> <br> <br>
				<div class="row-fluid">
					<div class="col-xs-3 col-sm-3 col-md-3 well" ng-show="graphTab == 1">A
						bar graph displays data visually and is sometimes called a bar
						chart or a bar graph. Data is displayed either horizontally or
						vertically and allows viewers to compare items displayed. Data
						displayed will relate to things like amounts, characteristics,
						times and frequency etc. A bar graph displays information in a way
						that helps us to make generalizations and conclusions quickly and
						easily. A typical bar graph will have a label, axis, scales and
						bars. Bar graphs are used to display all kinds of information such
						as, numbers of females versus males in a school, sales of items
						during particular times of a year. Bar graphs are ideal for
						comparing two or more values.</div>
					<div class="col-xs-3 col-sm-3 col-md-3 well" ng-show="graphTab == 2">A
						line chart or line graph is a type of chart which displays
						information as a series of data points called 'markers' connected
						by straight line segments. It is a basic type of chart common in
						many fields. It is similar to a scatter plot except that the
						measurement points are ordered (typically by their x-axis value)
						and joined with straight line segments. Line Charts show how a
						particular data changes at equal intervals of time. A line chart
						is often used to visualize a trend in data over intervals of time
						– a time series – thus the line is often drawn chronologically.</div>
					<div class="col-xs-3 col-sm-3 col-md-3 well" ng-show="graphTab == 3">A
						pie chart is a circular chart divided into sectors, illustrating
						numerical proportion. In a pie chart, the arc length of each
						sector (and consequently its central angle and area), is
						proportional to the quantity it represents. While it is named for
						its resemblance to a pie which has been sliced, there are
						variations on the way it can be presented.</div>
					<div class="col-xs-3 col-sm-3 col-md-3 well" ng-show="graphTab == 4">A
						choropleth map is a map that uses differences in shading, coloring, 
						or the placing of symbols within predefined areas to indicate the 
						average values of a property or quantity in those areas.</div>
				</div>
			</div>
	</section>
	
	<!-- 3rd Page -->
	<section ng-show="true"> <!-- Can be changed to page == 3 -->
		<div class="container-fluid" ng-init="statsTab = 1">
			<div class="row-fluid">
				<!-- Back button -->
				<!-- 
				<div class="back-button">
					<a href="" class="btn btn-primary btn-lg" role="button"
						ng-click="page = 2">Back</a>
				</div>
				 -->
				<div class="welcome-text">
					<h1>Please Finalize Visualization</h1>
				</div>
				<!-- Data field area to the left of screen for drag-and-drop -->
				<div class="col-xs-3 col-sm-3 col-md-3 dataField">
					<h3>Data Fields</h3>
					<div class="well inner-table">
						<table class="table table-hover table-condensed">
							<tbody class="fields">
								<!-- tr missing  ng-repeat="field in fields" for test pursposes-->
								<!-- <tr ng-repeat="field in fields" x-lvl-draggable = "true" draggable = "true" id = "{{field}}">
									<td>{{field}}</td>
								</tr> -->
							</tbody>
						</table>
					</div>
					<!-- Operators area if statistics tab is active -->
					<div ng-show="statsTab == 2">
						<h3>Operators</h3>
						<div class="well inner-table">
							<table class="table table-hover table-condensed">
								<tbody class="operators">

								</tbody>
							</table>
						</div>
					</div>
				</div>

				<!-- Tab for visualization / statistics -->
				<div class="col-xs-7 col-sm-7 col-md-7">
						<ul class="nav nav-tabs">
							<li ng-class="{active:statsTab == 1}"
								ng-click="statsTab = 1; selectVisualizationType()"><a
								href="">Visualization</a></li>
							<li ng-class="{active:statsTab == 2}"
								ng-click="statsTab = 2; selectVisualizationType()"><a
								href="">Statistics</a></li>
						</ul>
					</div>
				
				<br>
				<br>
				<br>
				
				<!-- Visualization Tab View -->
				<div ng-show="statsTab == 1">
				<form class="col-xs-7 col-sm-7 col-md-7 well" ng-show = "graphTab == 1">
					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<label>X-Axis</label>
						<input id = "xAxisBar" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>
					<!-- TEST CODE HERE on div: id=div 
						class="form-group col-xs-4 col-sm-4 col-md-4 col-xs-offset-4 col-sm-offset-4 col-md-offset-4">-->
					<div class="form-group col-xs-4 col-sm-4 col-md-4 col-xs-offset-4 col-sm-offset-4 col-md-offset-4">
						<label>Y-Axis</label>
						<input id = "yAxisBar" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>

					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<button type = "button" class = "btn btn-danger" ng-click = "clearAll()">Clear Fields</button>
					</div>

					<div id = "chart1" class="pics col-xs-11 col-sm-11 col-md-11" style = "height: 20%;">
						<!-- <img src="images/bargraph.svg" class="img-responsive" alt="Responsive image"> -->
						<svg id = "barGraph" style = "width: 100%; height: 60%;"></svg>
					</div>
				</form>

				<form class="col-xs-9 col-sm-9 col-md-9 well" ng-show = "graphTab == 2">
					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<label>X-Axis</label>
						<input id = "xAxisLine" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>
					<!-- TEST CODE HERE on div: id=div 
						class="form-group col-xs-4 col-sm-4 col-md-4 col-xs-offset-4 col-sm-offset-4 col-md-offset-4">-->
					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<label>Y-Axis</label>
						<input id = "yAxisLine" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>
					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<label>Optional Grouping</label>
						<input id = "groupingLine" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>

					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<button type = "button" class = "btn btn-danger" ng-click = "clearAll()">Clear Fields</button>
					</div>

					<div id = "chart2" class="pics col-xs-11 col-sm-11 col-md-11" style = "height: 100%;">
						<!-- <img src="images/bargraph.svg" class="img-responsive" alt="Responsive image"> -->
						<svg id = "lineGraph" style = "width: 100%; height: 100%;"></svg>
					</div>
				</form>

				<form class="col-xs-7 col-sm-7 col-md-7 well" ng-show = "graphTab == 3">
					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<label>Value Field</label>
						<input id = "valueField" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>
					<!-- TEST CODE HERE on div: id=div 
						class="form-group col-xs-4 col-sm-4 col-md-4 col-xs-offset-4 col-sm-offset-4 col-md-offset-4">-->
					<div class="form-group col-xs-4 col-sm-4 col-md-4 col-xs-offset-4 col-sm-offset-4 col-md-offset-4">
						<label>Count(Optional)</label>
						<input id = "countField" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>		

					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<button type = "button" class = "btn btn-danger" ng-click = "clearAll()">Clear Fields</button>
					</div>

					<div id = "chart3" class="pics col-xs-11 col-sm-11 col-md-11" style = "height: 20%;">
						<!-- <img src="images/bargraph.svg" class="img-responsive" alt="Responsive image"> -->
						<svg id = "pieChart" style = "width: 100%; height: 60%;"></svg>
					</div>
				</form>

				<form class="col-xs-7 col-sm-7 col-md-7 well" ng-show = "graphTab == 4">
					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<label>Location Field</label>
						<input id = "locationField" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>
					<!-- TEST CODE HERE on div: id=div 
						class="form-group col-xs-4 col-sm-4 col-md-4 col-xs-offset-4 col-sm-offset-4 col-md-offset-4">-->
					<div class="form-group col-xs-4 col-sm-4 col-md-4 col-xs-offset-4 col-sm-offset-4 col-md-offset-4">
						<label>Value Field</label>
						<input id = "choroplethValueField" type="email" class = "form-control" placeholder="Drop field here" x-lvl-drop-target = "true" x-on-drop = "dropped(dragEl, dropEl)">
					</div>		

					<div class="form-group col-xs-4 col-sm-4 col-md-4">
						<button type = "button" class = "btn btn-danger" ng-click = "clearAll()">Clear Fields</button>
					</div>	
					
					<!-- <img src="images/bargraph.svg" class="img-responsive" alt="Responsive image"> -->
					<div id = "map" style = "height: 600px;" class = "col-xs-12 col-sm-12 col-md-12"></div>
				</form>	
				</div>
				<!-- Statistics Tab View -->
				<div ng-show="statsTab == 2">
					<div class="col-xs-7 col-sm-7 col-md-7 well">
						<textarea></textarea>
					</div>
				</div>
			</div>
		</div>
	</section>
	<br>
	<!-- 4th Page -->
	<section ng-show="true">
		<!-- Can be changed to page == 4 -->
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="welcome-text">
					<h1>Data Analysis</h1>
				</div>
				<!-- Left section, data fields -->
				<div class="col-xs-2 col-sm-2 col-md-2">
					<h3 class="text-center">Data Fields</h3>
					<div class="well inner-table">
						<table class="table table-hover table-condensed">
							<tbody class="fields">

							</tbody>
						</table>
					</div>
				</div>
				<!-- Center section, metric equation -->
				<div class="col-xs-6 col-sm-6 col-md-6 col-xs-offset-1 col-sm-offset-1 col-md-offset-1">
					<h3 class="text-center">Metric Equation</h3>
					<div class="well">
						<textarea></textarea>
					</div>
				</div>
				<!-- Right section, Operators -->
				<div class="col-xs-2 col-sm-2 col-md-2 col-xs-offset-1 col-sm-offset-1 col-md-offset-1">
					<h3 class="text-center">Operators</h3>
					<div class="well inner-table">
						<table class="table table-hover table-condensed">
							<tbody class="operators">

							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</section>


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
	<script src="http://gregpike.net/demos/bootstrap-file-input/bootstrap.file-input.js"></script>
	<script src='/socket.io/socket.io.js' type='text/javascript'></script>
	
	<script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.0/less.min.js"></script>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js"></script>
	<!-- Socket io script -->
	<script src="/socket.io/socket.io.js"></script>
	<script src="javascripts/client_handler.js"></script>
	<!-- For Parsing CSV -->
	<script src="javascripts/papa-parser.js" type="text/javascript"></script>
	
	<script src="javascripts/delivery.js"></script>
	
	<script type = "text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
	<script type = "text/javascript" src = "javascripts/nv.d3.js"></script>
	<link rel = "stylesheet" href = "stylesheets/nv.d3.css">

	<!-- In  case we want to change default color setting and such -->
	<script type = "text/javascript" src = "javascripts/lvl-uuid.js"></script>
	<script type = "text/javascript" src = "javascripts/lvl-drag-drop.js"></script>
	<script type = "text/javascript" src='javascripts/us-states.js'></script>

	<script type = "text/javascript" src='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js'></script>
	<link  rel='stylesheet' href='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.css'>

	<script src="javascripts/angular.js"></script>

	<script>
		$(document).ready(function() {
			$('input[type=file]').bootstrapFileInput();
		});
	</script>
</body>
</html>
